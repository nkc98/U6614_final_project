appalachian_counties_13 <- appalachian_counties %>%
mutate(Year = 2013)
appalachian_counties_14 <- appalachian_counties %>%
mutate(Year = 2014)
appalachian_counties_15 <- appalachian_counties %>%
mutate(Year = 2015)
appalachian_counties_panel <- rbind(appalachian_counties_12,
appalachian_counties_13,
appalachian_counties_14,
appalachian_counties_15)
# Merge panel with overdose data
appalachian_counties_overdose_panel <- appalachian_counties_panel %>%
mutate(FIPS = as.numeric(FIPS)) %>%
left_join(overdose_data, by = c("FIPS", "Year"))
# Merge panel with ACS data (save as an RDS file)
yearly_counties_panel_overdose_acs <- appalachian_counties_overdose_panel %>%
left_join(acs_12_to_15, by = c("FIPS", "Year"))
saveRDS(yearly_counties_panel_overdose_acs, file = "yearly_panel.rds")
year_county_panel <- readRDS("yearly_panel.rds")
year_county_panel %>%
ggplot(aes(x = estimated_overdose_death_rate,
color = as.factor(medicaid_expansion),
fill = as.factor(medicaid_expansion))) +
geom_histogram() +
facet_wrap(~ Year, nrow = 4)
View(appalachian_counties)
View(year_county_panel)
yearly_counties_panel_overdose_acs %>% filter(is.na(estimated_overdose_death_rate) == TRUE)
yearly_counties_panel_overdose_acs %>% filter(is.na(estimated_overdose_death_rate) == TRUE)
colSums(is.na(yearly_counties_panel_overdose_acs))
year_county_panel <- readRDS("yearly_panel.rds")
# Exclude PA observations
year_county_panel <- year_county_panel %>%
filter(state != "Pennsylvania")
year_county_panel <- readRDS("yearly_panel.rds")
# Exclude PA observations
year_county_panel <- year_county_panel %>%
filter(STATE != "Pennsylvania")
year_county_panel %>%
ggplot(aes(x = estimated_overdose_death_rate,
color = as.factor(medicaid_expansion),
fill = as.factor(medicaid_expansion))) +
geom_histogram() +
facet_wrap(~ Year, nrow = 4)
View(appalachian_counties)
table(appalachian_counties$medicaid_expansion)
year_county_panel <- readRDS("yearly_panel.rds")
# Exclude PA observations
year_county_panel <- year_county_panel %>%
filter(STATE != "Pennsylvania")
expansion_count <- table(appalachian_counties$medicaid_expansion)
expansion_count[1]
expansion_count[1,1]
expansion_count[2]
expansion_count[,1]
expansion_count[1:1]
expansion_count <- as.numeric(table(appalachian_counties$medicaid_expansion))
expansion_count[1]
expansion_count[2]
# Create four versions of the Appalachian counties data, one for each year in our study, then append into a panel
appalachian_counties_12 <- appalachian_counties %>%
mutate(Year = 2012)
appalachian_counties_13 <- appalachian_counties %>%
mutate(Year = 2013)
appalachian_counties_14 <- appalachian_counties %>%
mutate(Year = 2014)
appalachian_counties_15 <- appalachian_counties %>%
mutate(Year = 2015)
appalachian_counties_panel <- rbind(appalachian_counties_12,
appalachian_counties_13,
appalachian_counties_14,
appalachian_counties_15)
# Merge panel with overdose data
appalachian_counties_overdose_panel <- appalachian_counties_panel %>%
mutate(FIPS = as.numeric(FIPS)) %>%
left_join(overdose_data, by = c("FIPS", "Year"))
# Merge panel with ACS data (save as an RDS file)
yearly_counties_panel_overdose_acs <- appalachian_counties_overdose_panel %>%
left_join(acs_12_to_15, by = c("FIPS", "Year"))
saveRDS(yearly_counties_panel_overdose_acs, file = "yearly_panel.rds")
saveRDS(appalachian_counties, file = "appalachian_counties.rds")appalachian_counties
# Create four versions of the Appalachian counties data, one for each year in our study, then append into a panel
appalachian_counties_12 <- appalachian_counties %>%
mutate(Year = 2012)
appalachian_counties_13 <- appalachian_counties %>%
mutate(Year = 2013)
appalachian_counties_14 <- appalachian_counties %>%
mutate(Year = 2014)
appalachian_counties_15 <- appalachian_counties %>%
mutate(Year = 2015)
appalachian_counties_panel <- rbind(appalachian_counties_12,
appalachian_counties_13,
appalachian_counties_14,
appalachian_counties_15)
# Merge panel with overdose data
appalachian_counties_overdose_panel <- appalachian_counties_panel %>%
mutate(FIPS = as.numeric(FIPS)) %>%
left_join(overdose_data, by = c("FIPS", "Year"))
# Merge panel with ACS data (save as an RDS file)
yearly_counties_panel_overdose_acs <- appalachian_counties_overdose_panel %>%
left_join(acs_12_to_15, by = c("FIPS", "Year"))
saveRDS(yearly_counties_panel_overdose_acs, file = "yearly_panel.rds")
saveRDS(appalachian_counties, file = "appalachian_counties.rds")
# Load panel data
year_county_panel <- readRDS("yearly_panel.rds")
# Exclude PA observations
year_county_panel <- year_county_panel %>%
filter(STATE != "Pennsylvania")
# Load county data
appalachian_counties <- readRDS("appalachian_counties.rds")
expansion_count <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Exclude PA observations
appalachian_counties <- appalachian_counties %>%
filter(STATE != "Pennsylvania")
expansion_count_no_PA <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Load panel data
year_county_panel <- readRDS("yearly_panel.rds")
# Exclude PA observations
year_county_panel <- year_county_panel %>%
filter(STATE != "Pennsylvania")
# Load county data
appalachian_counties <- readRDS("appalachian_counties.rds")
expansion_count <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Exclude PA observations
appalachian_counties <- appalachian_counties %>%
filter(STATE != "Pennsylvania")
expansion_count_no_PA <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Overdose histogram
county_overdose_histogram <- year_county_panel %>%
ggplot(aes(x = estimated_overdose_death_rate,
color = as.factor(medicaid_expansion),
fill = as.factor(medicaid_expansion))) +
geom_histogram() +
facet_wrap(~ Year, nrow = 4)
county_overdose_histogram
# Load panel data
year_county_panel <- readRDS("yearly_panel.rds")
# Exclude PA observations
year_county_panel <- year_county_panel %>%
filter(STATE != "Pennsylvania")
# Load county data
appalachian_counties <- readRDS("appalachian_counties.rds")
expansion_count <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Exclude PA observations
appalachian_counties <- appalachian_counties %>%
filter(STATE != "Pennsylvania")
expansion_count_no_PA <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Overdose histogram
county_overdose_histogram <- year_county_panel %>%
ggplot(aes(x = estimated_overdose_death_rate,
color = as.factor(medicaid_expansion),
fill = as.factor(medicaid_expansion))) +
geom_histogram() +
facet_wrap(~ Year, nrow = 4)
+ labs(xlab = "Drug Overdose Deaths per 100,000")
# Load panel data
year_county_panel <- readRDS("yearly_panel.rds")
# Exclude PA observations
year_county_panel <- year_county_panel %>%
filter(STATE != "Pennsylvania")
# Load county data
appalachian_counties <- readRDS("appalachian_counties.rds")
expansion_count <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Exclude PA observations
appalachian_counties <- appalachian_counties %>%
filter(STATE != "Pennsylvania")
expansion_count_no_PA <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Overdose histogram
county_overdose_histogram <- year_county_panel %>%
ggplot(aes(x = estimated_overdose_death_rate,
color = as.factor(medicaid_expansion),
fill = as.factor(medicaid_expansion))) +
geom_histogram() +
facet_wrap(~ Year, nrow = 4) +
labs(x = "Drug Overdose Deaths per 100,000")
county_overdose_histogram
# Load panel data
year_county_panel <- readRDS("yearly_panel.rds")
# Exclude PA observations
year_county_panel <- year_county_panel %>%
filter(STATE != "Pennsylvania")
# Load county data
appalachian_counties <- readRDS("appalachian_counties.rds")
expansion_count <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Exclude PA observations
appalachian_counties <- appalachian_counties %>%
filter(STATE != "Pennsylvania")
expansion_count_no_PA <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Overdose histogram
county_overdose_histogram <- year_county_panel %>%
ggplot(aes(x = estimated_overdose_death_rate,
color = as.factor(medicaid_expansion),
fill = as.factor(medicaid_expansion))) +
geom_histogram() +
facet_wrap(~ Year, nrow = 4) +
labs(x = "Drug Overdose Deaths per 100,000", y = "No. of Counties")
# Load panel data
year_county_panel <- readRDS("yearly_panel.rds")
# Exclude PA observations
year_county_panel <- year_county_panel %>%
filter(STATE != "Pennsylvania")
# Load county data
appalachian_counties <- readRDS("appalachian_counties.rds")
expansion_count <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Exclude PA observations
appalachian_counties <- appalachian_counties %>%
filter(STATE != "Pennsylvania")
expansion_count_no_PA <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Overdose histogram
county_overdose_histogram <- year_county_panel %>%
ggplot(aes(x = estimated_overdose_death_rate,
color = as.factor(medicaid_expansion),
fill = as.factor(medicaid_expansion))) +
geom_histogram() +
facet_wrap(~ Year, nrow = 4) +
labs(x = "Drug Overdose Deaths per 100,000")
county_overdose_histogram
# Create four versions of the Appalachian counties data, one for each year in our study, then append into a panel
appalachian_counties_12 <- appalachian_counties %>%
mutate(Year = 2012)
appalachian_counties_13 <- appalachian_counties %>%
mutate(Year = 2013)
appalachian_counties_14 <- appalachian_counties %>%
mutate(Year = 2014)
appalachian_counties_15 <- appalachian_counties %>%
mutate(Year = 2015)
appalachian_counties_panel <- rbind(appalachian_counties_12,
appalachian_counties_13,
appalachian_counties_14,
appalachian_counties_15)
# Merge panel with overdose data
appalachian_counties_overdose_panel <- appalachian_counties_panel %>%
mutate(FIPS = as.numeric(FIPS)) %>%
left_join(overdose_data, by = c("FIPS", "Year"))
# Merge panel with ACS data (save as an RDS file)
yearly_counties_panel_overdose_acs <- appalachian_counties_overdose_panel %>%
left_join(acs_12_to_15, by = c("FIPS", "Year"))
#
yearly_counties_panel_overdose_acs$estimated_overdose_death_rate <- factor(yearly_counties_panel_overdose_acs$estimated_overdose_death_rate,
levels = c(0,1),
labels = c("Non-Expansion", "Expansion"))
# Save panel and county datasets as .rds files
saveRDS(yearly_counties_panel_overdose_acs, file = "yearly_panel.rds")
saveRDS(appalachian_counties, file = "appalachian_counties.rds")
# Load panel data
year_county_panel <- readRDS("yearly_panel.rds")
# Exclude PA observations
year_county_panel <- year_county_panel %>%
filter(STATE != "Pennsylvania")
# Load county data
appalachian_counties <- readRDS("appalachian_counties.rds")
expansion_count <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Exclude PA observations
appalachian_counties <- appalachian_counties %>%
filter(STATE != "Pennsylvania")
expansion_count_no_PA <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Overdose histogram
county_overdose_histogram <- year_county_panel %>%
ggplot(aes(x = estimated_overdose_death_rate,
color = as.factor(medicaid_expansion),
fill = as.factor(medicaid_expansion))) +
geom_histogram() +
facet_wrap(~ Year, nrow = 4) +
labs(x = "Drug Overdose Deaths per 100,000")
county_overdose_histogram
# Create four versions of the Appalachian counties data, one for each year in our study, then append into a panel
appalachian_counties_12 <- appalachian_counties %>%
mutate(Year = 2012)
appalachian_counties_13 <- appalachian_counties %>%
mutate(Year = 2013)
appalachian_counties_14 <- appalachian_counties %>%
mutate(Year = 2014)
appalachian_counties_15 <- appalachian_counties %>%
mutate(Year = 2015)
appalachian_counties_panel <- rbind(appalachian_counties_12,
appalachian_counties_13,
appalachian_counties_14,
appalachian_counties_15)
# Merge panel with overdose data
appalachian_counties_overdose_panel <- appalachian_counties_panel %>%
mutate(FIPS = as.numeric(FIPS)) %>%
left_join(overdose_data, by = c("FIPS", "Year"))
# Merge panel with ACS data (save as an RDS file)
yearly_counties_panel_overdose_acs <- appalachian_counties_overdose_panel %>%
left_join(acs_12_to_15, by = c("FIPS", "Year"))
#
yearly_counties_panel_overdose_acs$medicaid_expansion <- factor(yearly_counties_panel_overdose_acs$medicaid_expansion,
levels = c(0,1),
labels = c("Non-Expansion", "Expansion"))
# Save panel and county datasets as .rds files
saveRDS(yearly_counties_panel_overdose_acs, file = "yearly_panel.rds")
saveRDS(appalachian_counties, file = "appalachian_counties.rds")
# Create four versions of the Appalachian counties data, one for each year in our study, then append into a panel
appalachian_counties_12 <- appalachian_counties %>%
mutate(Year = 2012)
appalachian_counties_13 <- appalachian_counties %>%
mutate(Year = 2013)
appalachian_counties_14 <- appalachian_counties %>%
mutate(Year = 2014)
appalachian_counties_15 <- appalachian_counties %>%
mutate(Year = 2015)
appalachian_counties_panel <- rbind(appalachian_counties_12,
appalachian_counties_13,
appalachian_counties_14,
appalachian_counties_15)
# Merge panel with overdose data
appalachian_counties_overdose_panel <- appalachian_counties_panel %>%
mutate(FIPS = as.numeric(FIPS)) %>%
left_join(overdose_data, by = c("FIPS", "Year"))
# Merge panel with ACS data (save as an RDS file)
yearly_counties_panel_overdose_acs <- appalachian_counties_overdose_panel %>%
left_join(acs_12_to_15, by = c("FIPS", "Year"))
#
yearly_counties_panel_overdose_acs$medicaid_expansion <-
factor(yearly_counties_panel_overdose_acs$medicaid_expansion,
levels = c(0,1),
labels = c("Non-Expansion", "Expansion"))
# Save panel and county datasets as .rds files
saveRDS(yearly_counties_panel_overdose_acs, file = "yearly_panel.rds")
saveRDS(appalachian_counties, file = "appalachian_counties.rds")
# Load panel data
year_county_panel <- readRDS("yearly_panel.rds")
# Exclude PA observations
year_county_panel <- year_county_panel %>%
filter(STATE != "Pennsylvania")
# Load county data
appalachian_counties <- readRDS("appalachian_counties.rds")
expansion_count <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Exclude PA observations
appalachian_counties <- appalachian_counties %>%
filter(STATE != "Pennsylvania")
expansion_count_no_PA <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Overdose histogram
county_overdose_histogram <- year_county_panel %>%
ggplot(aes(x = estimated_overdose_death_rate,
color = as.factor(medicaid_expansion),
fill = as.factor(medicaid_expansion))) +
geom_histogram() +
facet_wrap(~ Year, nrow = 4) +
labs(x = "Drug Overdose Deaths per 100,000")
county_overdose_histogram
# Load panel data
year_county_panel <- readRDS("yearly_panel.rds")
# Exclude PA observations
year_county_panel <- year_county_panel %>%
filter(STATE != "Pennsylvania")
# Load county data
appalachian_counties <- readRDS("appalachian_counties.rds")
expansion_count <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Exclude PA observations
appalachian_counties <- appalachian_counties %>%
filter(STATE != "Pennsylvania")
expansion_count_no_PA <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Overdose histogram
county_overdose_histogram <- year_county_panel %>%
ggplot(aes(x = estimated_overdose_death_rate,
color = medicaid_expansion,
fill = medicaid_expansion)) +
geom_histogram() +
facet_wrap(~ Year, nrow = 4) +
labs(x = "Drug Overdose Deaths per 100,000")
county_overdose_histogram
# Load panel data
year_county_panel <- readRDS("yearly_panel.rds")
# Exclude PA observations
year_county_panel <- year_county_panel %>%
filter(STATE != "Pennsylvania")
# Load county data
appalachian_counties <- readRDS("appalachian_counties.rds")
expansion_count <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Exclude PA observations
appalachian_counties <- appalachian_counties %>%
filter(STATE != "Pennsylvania")
expansion_count_no_PA <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Overdose histogram
county_overdose_histogram <- year_county_panel %>%
ggplot(aes(x = estimated_overdose_death_rate,
color = medicaid_expansion,
fill = medicaid_expansion)) +
geom_histogram() +
facet_wrap(~ Year, nrow = 4) +
labs(x = "Drug Overdose Deaths per 100,000", Fill = "Medicaid Expansion Status")
# Load panel data
year_county_panel <- readRDS("yearly_panel.rds")
# Exclude PA observations
year_county_panel <- year_county_panel %>%
filter(STATE != "Pennsylvania")
# Load county data
appalachian_counties <- readRDS("appalachian_counties.rds")
expansion_count <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Exclude PA observations
appalachian_counties <- appalachian_counties %>%
filter(STATE != "Pennsylvania")
expansion_count_no_PA <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Overdose histogram
county_overdose_histogram <- year_county_panel %>%
ggplot(aes(x = estimated_overdose_death_rate,
color = medicaid_expansion,
fill = medicaid_expansion)) +
geom_histogram() +
facet_wrap(~ Year, nrow = 4) +
labs(x = "Drug Overdose Deaths per 100,000", fill = "Medicaid Expansion Status")
county_overdose_histogram
# Load panel data
year_county_panel <- readRDS("yearly_panel.rds")
# Exclude PA observations
year_county_panel <- year_county_panel %>%
filter(STATE != "Pennsylvania")
# Load county data
appalachian_counties <- readRDS("appalachian_counties.rds")
expansion_count <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Exclude PA observations
appalachian_counties <- appalachian_counties %>%
filter(STATE != "Pennsylvania")
expansion_count_no_PA <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Overdose histogram
county_overdose_histogram <- year_county_panel %>%
ggplot(aes(x = estimated_overdose_death_rate,
fill = medicaid_expansion)) +
geom_histogram() +
facet_wrap(~ Year, nrow = 4) +
labs(x = "Drug Overdose Deaths per 100,000", fill = "Medicaid Expansion Status")
county_overdose_histogram
# Load panel data
year_county_panel <- readRDS("yearly_panel.rds")
# Exclude PA observations
year_county_panel <- year_county_panel %>%
filter(STATE != "Pennsylvania")
# Load county data
appalachian_counties <- readRDS("appalachian_counties.rds")
expansion_count <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Exclude PA observations
appalachian_counties <- appalachian_counties %>%
filter(STATE != "Pennsylvania")
expansion_count_no_PA <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Overdose histogram
county_overdose_histogram <- year_county_panel %>%
ggplot(aes(x = estimated_overdose_death_rate,
fill = medicaid_expansion)) +
geom_histogram() +
facet_wrap(~ Year, nrow = 4) +
labs(x = "Drug Overdose Deaths per 100,000",
fill = "Medicaid Expansion Status",
title = "County-level Drug Overdose Death Rates by Medicaid Expansion Status (2012-2015)")
county_overdose_histogram
# Load panel data
year_county_panel <- readRDS("yearly_panel.rds")
# Exclude PA observations
year_county_panel <- year_county_panel %>%
filter(STATE != "Pennsylvania")
# Load county data
appalachian_counties <- readRDS("appalachian_counties.rds")
expansion_count <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Exclude PA observations
appalachian_counties <- appalachian_counties %>%
filter(STATE != "Pennsylvania")
expansion_count_no_PA <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Overdose histogram
county_overdose_histogram <- year_county_panel %>%
ggplot(aes(x = estimated_overdose_death_rate,
fill = medicaid_expansion)) +
geom_histogram() +
facet_wrap(~ Year, nrow = 4) +
labs(x = "Drug Overdose Deaths per 100,000",
fill = "Medicaid Expansion Status",
title = "County-level Drug Overdose Death Rates by Medicaid Expansion Status (2012-15)")
county_overdose_histogram
# @ Nicole, you can use this data to generate the descriptive statistics!
expansion_county_panel <- year_county_panel %>%
filter(medicaid_expansion == 1)
non_expansion_county_panel <- year_county_panel %>%
filter(medicaid_expansion == 0)
# @ Nicole, you can use this data to generate the descriptive statistics!
expansion_county_panel <- year_county_panel %>%
filter(medicaid_expansion == "Expansion")
non_expansion_county_panel <- year_county_panel %>%
filter(medicaid_expansion == "Non-Expansion")
# @ Nicole, you can use this data to generate the descriptive statistics!
expansion_county_panel <- year_county_panel %>%
filter(medicaid_expansion == "Expansion")
pre_2014_expansion_county_panel <- expansion_county_panel %>%
filter(Year < 2014)
post_2014_expansion_county_panel <- expansion_county_panel %>%
filter(Year >= 2014)
non_expansion_county_panel <- year_county_panel %>%
filter(medicaid_expansion == "Non-Expansion")
pre_2014_non_expansion_county_panel <- non_expansion_county_panel %>%
filter(Year < 2014)
post_2014_non_expansion_county_panel <- non_expansion_county_panel %>%
filter(Year >= 2014)
# Load panel data
year_county_panel <- readRDS("yearly_panel.rds")
# Exclude PA observations
year_county_panel <- year_county_panel %>%
filter(STATE != "Pennsylvania")
# Load county data
appalachian_counties <- readRDS("appalachian_counties.rds")
expansion_count <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Exclude PA observations
appalachian_counties <- appalachian_counties %>%
filter(STATE != "Pennsylvania")
expansion_count_no_PA <- as.numeric(table(appalachian_counties$medicaid_expansion))
# Overdose histogram
county_overdose_histogram <- year_county_panel %>%
ggplot(aes(x = estimated_overdose_death_rate,
fill = medicaid_expansion)) +
geom_histogram() +
facet_wrap(~ Year, nrow = 4) +
labs(x = "Drug Overdose Deaths per 100,000",
fill = "Medicaid Expansion Status",
title = "County-Level Drug Overdose Death Rates by Medicaid Expansion Status")
county_overdose_histogram
